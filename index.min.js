function lowerNote(t){if(1==t.length)return t+="b";if(t.length>=2)switch(t){case"C#":case"D#":case"E#":case"F#":case"G#":case"A#":case"B#":t=t.replace("#","");break;case"Cb":case"Db":case"Eb":case"Fb":case"Gb":case"Ab":case"Bb":t+="b";break;case"C##":case"D##":case"E##":case"F##":case"G##":case"A##":case"B##":t=t.replace("##","#");break;case"Cbb":case"Dbb":case"Ebb":case"Fbb":case"Gbb":case"Abb":case"Bbb":console.log("Try a different scale")}return t}function raiseNote(t){if(1==t.length)return t+="#";if(t.length>=2)switch(t){case"C#":case"D#":case"E#":case"F#":case"G#":case"A#":case"B#":t=t.replace("#","##");break;case"Cb":case"Db":case"Eb":case"Fb":case"Gb":case"Ab":case"Bb":t=t.replace("b","");break;case"C##":case"D##":case"E##":case"F##":case"G##":case"A##":case"B##":console.log("Try a different scale");break;case"Cbb":case"Dbb":case"Ebb":case"Fbb":case"Gbb":case"Abb":case"Bbb":t=t.replace("bb","b")}return t}$(document).ready(function(){function t(){0===f?($("#iButton").html("I Chord"),$("#Root").html("Root"),$("#Third").html("3rd"),$("#Fifth").html("5th")):1===f?($("#iButton").html("1st Inversion"),$("#Root").html("3rd"),$("#Third").html("5th"),$("#Fifth").html("Root")):2===f?($("#iButton").html("2nd Inversion"),$("#Root").html("5th"),$("#Third").html("Root"),$("#Fifth").html("3rd")):f>=3&&(f=0,t())}function i(){0===a?($("#iiButton").html("ii Chord"),$("#iiRoot").html("2nd"),$("#iiThird").html("4th"),$("#iiFifth").html("6th")):1===a?($("#iiButton").html("1st Inversion"),$("#iiRoot").html("4th"),$("#iiThird").html("6th"),$("#iiFifth").html("2nd")):2===a?($("#iiButton").html("2nd Inversion"),$("#iiRoot").html("6th"),$("#iiThird").html("2nd"),$("#iiFifth").html("4th")):a>=3&&(a=0,i())}function o(){0===v?($("#iiiButton").html("iii Chord"),$("#iiiRoot").html("3rd"),$("#iiiThird").html("5th"),$("#iiiFifth").html("7th")):1===v?($("#iiiButton").html("1st Inversion"),$("#iiiRoot").html("5th"),$("#iiiThird").html("7th"),$("#iiiFifth").html("3rd")):2===v?($("#iiiButton").html("2nd Inversion"),$("#iiiRoot").html("7th"),$("#iiiThird").html("3rd"),$("#iiiFifth").html("5th")):v>=3&&(v=0,o())}function e(){0===b?($("#ivButton").html("IV Chord"),$("#ivRoot").html("4th"),$("#ivThird").html("6th"),$("#ivFifth").html("Root")):1===b?($("#ivButton").html("1st Inversion"),$("#ivRoot").html("6th"),$("#ivThird").html("Root"),$("#ivFifth").html("4th")):2===b?($("#ivButton").html("2nd Inversion"),$("#ivRoot").html("Root"),$("#ivThird").html("4th"),$("#ivFifth").html("6th")):b>=3&&(b=0,e())}function h(){0===k?($("#vButton").html("V Chord"),$("#vRoot").html("5th"),$("#vThird").html("7th"),$("#vFifth").html("2nd")):1===k?($("#vButton").html("1st Inversion"),$("#vRoot").html("7th"),$("#vThird").html("2nd"),$("#vFifth").html("5th")):2===k?($("#vButton").html("2nd Inversion"),$("#vRoot").html("2nd"),$("#vThird").html("5th"),$("#vFifth").html("7th")):k>=3&&(k=0,h())}function n(){0===B?($("#viButton").html("vi Chord"),$("#viRoot").html("6th"),$("#viThird").html("Root"),$("#viFifth").html("3rd")):1===B?($("#viButton").html("1st Inversion"),$("#viRoot").html("Root"),$("#viThird").html("3rd"),$("#viFifth").html("6th")):2===B?($("#viButton").html("2nd Inversion"),$("#viRoot").html("3rd"),$("#viThird").html("6th"),$("#viFifth").html("Root")):B>=3&&(B=0,n())}function r(t){function i(){0===l?($("#iButton").html(d[t].root+" Major"),$("#Root").html(d[t].root),$("#Third").html(d[t].third),$("#Fifth").html(d[t].fifth)):1===l?($("#iButton").html(d[t].root+"/"+d[t].third+" Major"),$("#Root").html(d[t].third),$("#Third").html(d[t].fifth),$("#Fifth").html(d[t].root)):2===l?($("#iButton").html(d[t].root+"/"+d[t].fifth+" Major"),$("#Root").html(d[t].fifth),$("#Third").html(d[t].root),$("#Fifth").html(d[t].third)):(l=0,i())}function o(){0===c?($("#iiButton").html(d[t].second+" minor"),$("#iiRoot").html(d[t].second),$("#iiThird").html(d[t].fourth),$("#iiFifth").html(d[t].sixth)):1===c?($("#iiButton").html(d[t].second+"/"+d[t].fourth+" minor"),$("#iiRoot").html(d[t].fourth),$("#iiThird").html(d[t].sixth),$("#iiFifth").html(d[t].second)):2===c?($("#iiButton").html(d[t].second+"/"+d[t].sixth+" minor"),$("#iiRoot").html(d[t].sixth),$("#iiThird").html(d[t].second),$("#iiFifth").html(d[t].fourth)):(c=0,o())}function e(){0===m?($("#iiiButton").html(d[t].third+" minor"),$("#iiiRoot").html(d[t].third),$("#iiiThird").html(d[t].fifth),$("#iiiFifth").html(d[t].seventh)):1===m?($("#iiiButton").html(d[t].third+"/"+d[t].fifth+" minor"),$("#iiiRoot").html(d[t].fifth),$("#iiiThird").html(d[t].seventh),$("#iiiFifth").html(d[t].third)):2===m?($("#iiiButton").html(d[t].third+"/"+d[t].seventh+" minor"),$("#iiiRoot").html(d[t].seventh),$("#iiiThird").html(d[t].third),$("#iiiFifth").html(d[t].fifth)):(m=0,e())}function h(){0===s?($("#ivButton").html(d[t].fourth+" Major"),$("#ivRoot").html(d[t].fourth),$("#ivThird").html(d[t].sixth),$("#ivFifth").html(d[t].root)):1===s?($("#ivButton").html(d[t].fourth+"/"+d[t].sixth+" Major"),$("#ivRoot").html(d[t].sixth),$("#ivThird").html(d[t].root),$("#ivFifth").html(d[t].fourth)):2===s?($("#ivButton").html(d[t].fourth+"/"+d[t].root+" Major"),$("#ivRoot").html(d[t].root),$("#ivThird").html(d[t].fourth),$("#ivFifth").html(d[t].sixth)):(s=0,h())}function n(){0===u?($("#vButton").html(d[t].fifth+" Major"),$("#vRoot").html(d[t].fifth),$("#vThird").html(d[t].seventh),$("#vFifth").html(d[t].second)):1===u?($("#vButton").html(d[t].fifth+"/"+d[t].seventh+" Major"),$("#vRoot").html(d[t].seventh),$("#vThird").html(d[t].second),$("#vFifth").html(d[t].fifth)):2===u?($("#vButton").html(d[t].fifth+"/"+d[t].second+" Major"),$("#vRoot").html(d[t].second),$("#vThird").html(d[t].fifth),$("#vFifth").html(d[t].seventh)):(u=0,n())}function r(){0===f?($("#viButton").html(d[t].sixth+" minor"),$("#viRoot").html(d[t].sixth),$("#viThird").html(d[t].root),$("#viFifth").html(d[t].third)):1===f?($("#viButton").html(d[t].sixth+"/"+d[t].root+" minor"),$("#viRoot").html(d[t].root),$("#viThird").html(d[t].third),$("#viFifth").html(d[t].sixth)):2===f?($("#viButton").html(d[t].sixth+"/"+d[t].third+" minor"),$("#viRoot").html(d[t].third),$("#viThird").html(d[t].sixth),$("#viFifth").html(d[t].root)):(f=0,r())}$("#Key").html(d[t].key),$("#scaleView").html(d[t].scale),$("#Root").html(d[t].root),$("#Third").html(d[t].third),$("#Fifth").html(d[t].fifth),$("#iiRoot").html(d[t].second),$("#iiThird").html(d[t].fourth),$("#iiFifth").html(d[t].sixth),$("#iiiRoot").html(d[t].third),$("#iiiThird").html(d[t].fifth),$("#iiiFifth").html(d[t].seventh),$("#ivRoot").html(d[t].fourth),$("#ivThird").html(d[t].sixth),$("#ivFifth").html(d[t].root),$("#vRoot").html(d[t].fifth),$("#vThird").html(d[t].seventh),$("#vFifth").html(d[t].second),$("#viRoot").html(d[t].sixth),$("#viThird").html(d[t].root),$("#viFifth").html(d[t].third),$("#iButton").html(d[t].root+" Major"),$("#iiButton").html(d[t].second+" minor"),$("#iiiButton").html(d[t].third+" minor"),$("#ivButton").html(d[t].fourth+" Major"),$("#vButton").html(d[t].fifth+" Major"),$("#viButton").html(d[t].sixth+" minor");var l=0;$("#iButton").click(function(){l++,i()});var c=0;$("#iiButton").click(function(){c++,o()});var m=0;$("#iiiButton").click(function(){m++,e()});var s=0;$("#ivButton").click(function(){s++,h()});var u=0;$("#vButton").click(function(){u++,n()});var f=0;$("#viButton").click(function(){f++,r()})}function l(t){var i=[d[t].root+" ",d[t].second+" ",d[t].third+" ",d[t].fourth+" ",d[t].fifth+" ",d[t].sixth+" ",d[t].seventh+" ",d[t].root+" "];return i}function c(t){return 0==order?(view=t[0]+t[1]+t[2]+t[3]+t[4]+t[5]+t[6]+t[7],view):1==order?(view=t[1]+t[2]+t[3]+t[4]+t[5]+t[6]+t[7]+t[1],view):2==order?(view=t[2]+t[3]+t[4]+t[5]+t[6]+t[0]+t[1]+t[2],view):3==order?(view=t[3]+t[4]+t[5]+t[6]+t[0]+t[1]+t[2]+t[3],view):4==order?(view=t[4]+t[5]+t[6]+t[0]+t[1]+t[2]+t[3]+t[4],view):5==order?(view=t[5]+t[6]+t[0]+t[1]+t[2]+t[3]+t[4]+t[5],view):6==order?(view=t[6]+t[0]+t[1]+t[2]+t[3]+t[4]+t[5]+t[6],view):void 0}function m(){view=c(g),$("#Mode").html(view.toString().slice(0,2)+" "+modeName),$("#ModeNotes").html(view)}function s(){g=l(keyNum),order=0,modeName="Ionian",m()}function u(){var t=$("#relativeSwitch").val();return console.log(t),$("#relativeSwitch:checked").val()?(relativeFlag=!1,relativeFlag):(relativeFlag=!0,relativeFlag)}$(".help-text").css("display","block"),$(".help-text").css("opacity","0"),$("#help-button").on("click",function(){$(".help-text").css("opacity","1"),$("#help-button").css("display","none"),$("#hide-button").css("display","block")}),$("#hide-button").on("click",function(){$(".help-text").css("opacity","0"),$("#help-button").css("display","block"),$("#hide-button").css("display","none")}),keyNum=0;var d=[{index:"0",key:"C Major",scale:"C D E F G A B C",root:"C",second:"D",third:"E",fourth:"F",fifth:"G",sixth:"A",seventh:"B"},{index:"1",key:"D Major",scale:"D E F# G A B C# D",root:"D",second:"E",third:"F#",fourth:"G",fifth:"A",sixth:"B",seventh:"C#"},{index:"2",key:"E Major",scale:"E F# G# A B C# D# E",root:"E",second:"F#",third:"G#",fourth:"A",fifth:"B",sixth:"C#",seventh:"D#"},{index:"3",key:"F Major",scale:"F G A Bb C D E F",root:"F",second:"G",third:"A",fourth:"Bb",fifth:"C",sixth:"D",seventh:"E"},{index:"4",key:"G Major",scale:"G A B C D E F# G",root:"G",second:"A",third:"B",fourth:"C",fifth:"D",sixth:"E",seventh:"F#"},{index:"5",key:"A Major",scale:"A B C# D E F# G# A",root:"A",second:"B",third:"C#",fourth:"D",fifth:"E",sixth:"F#",seventh:"G#"},{index:"6",key:"B Major",scale:"B C# D# E F# G# A# B",root:"B",second:"C#",third:"D#",fourth:"E",fifth:"F#",sixth:"G#",seventh:"A#"},{index:"7",key:"C# Major",scale:"C# D# E# F# G# A# B# C#",root:"C#",second:"D#",third:"E#",fourth:"F#",fifth:"G#",sixth:"A#",seventh:"B#"},{index:"8",key:"F# Major",scale:"F# G# A# B C# D# E# F#",root:"F#",second:"G#",third:"A#",fourth:"B",fifth:"C#",sixth:"D#",seventh:"E#"},{index:"9",key:"Gb Major",scale:"Gb Ab Bb Cb Db Eb F Gb",root:"Gb",second:"Ab",third:"Bb",fourth:"Cb",fifth:"Db",sixth:"Eb",seventh:"F"},{index:"10",key:"Ab Major",scale:"Ab Bb C Db Eb F G Ab",root:"Ab",second:"Bb",third:"C",fourth:"Db",fifth:"Eb",sixth:"F",seventh:"G"},{index:"11",key:"Bb Major",scale:"Bb C D Eb F G A Bb",root:"Bb",second:"C",third:"D",fourth:"Eb",fifth:"F",sixth:"G",seventh:"A"},{index:"12",key:"Cb Major",scale:"Cb Db Eb Fb Gb Ab Bb Cb",root:"Cb",second:"Db",third:"Eb",fourth:"Fb",fifth:"Gb",sixth:"Ab",seventh:"Bb"},{index:"13",key:"Db Major",scale:"Db Eb F Gb Ab Bb C Db",root:"Db",second:"Eb",third:"F",fourth:"Gb",fifth:"Ab",sixth:"Bb",seventh:"C"},{index:"14",key:"Eb Major",scale:"Eb F G Ab Bb C D Eb",root:"Eb",second:"F",third:"G",fourth:"Ab",fifth:"Bb",sixth:"C",seventh:"D"}],f=0;$("#iButton").click(function(){f++,t()});var a=0;$("#iiButton").click(function(){a++,i()});var v=0;$("#iiiButton").click(function(){v++,o()});var b=0;$("#ivButton").click(function(){b++,e()});var k=0;$("#vButton").click(function(){k++,h()});var B=0;$("#viButton").click(function(){B++,n()}),$("#resetButton").click(function(){f=0,a=0,v=0,b=0,k=0,B=0,keyNum=0,$("#Mode").html("Selected Mode"),$("#ModeNotes").html("Notes of Selected Mode"),$("#ChordViewHeading").html("Scale Notes"),$("#ModeViewHeading").html("Modes"),$("#inversionViewHeading").html("Triads/Inversions"),$("#Key").html("Major Key"),$("#scaleView").html("Notes in the key"),$("#iButton").click(function(){t()}),$("#iiButton").click(function(){i()}),$("#iiiButton").click(function(){o()}),$("#ivButton").click(function(){e()}),$("#vButton").click(function(){h()}),$("#viButton").click(function(){n()}),t(),i(),o(),e(),h(),n()}),$("#button").click(function(){return keyNum=0,r(0),s(),keyNum}),$("#dbutton").click(function(){return keyNum=1,r(1),s(),keyNum}),$("#ebutton").click(function(){return keyNum=2,r(2),s(),keyNum}),$("#fbutton").click(function(){return keyNum=3,r(3),s(),keyNum}),$("#gbutton").click(function(){return keyNum=4,r(4),s(),keyNum}),$("#abutton").click(function(){return keyNum=5,r(5),s(),keyNum}),$("#bbutton").click(function(){return keyNum=6,r(6),s(),keyNum}),$("#csbutton").click(function(){return keyNum=7,r(7),s(),keyNum}),$("#fsbutton").click(function(){return keyNum=8,r(8),s(),keyNum}),$("#gbbutton").click(function(){return keyNum=9,r(9),s(),keyNum}),$("#abbutton").click(function(){return keyNum=10,r(10),s(),keyNum}),$("#bbbutton").click(function(){return keyNum=11,r(11),s(),keyNum}),$("#cbbutton").click(function(){return keyNum=12,r(12),s(),keyNum}),$("#dbbutton").click(function(){return keyNum=13,r(13),s(),keyNum}),$("#ebbutton").click(function(){return keyNum=14,r(14),s(),keyNum}),g=l(keyNum),modeName="Modes",order=0,$("#Ionian").on("click",function(){if(modeName="Ionian",u(),relativeFlag===!0)order=0,m();else{var t=d[keyNum].root;$("#Mode").html(t+" "+modeName),$("#ModeNotes").html(d[keyNum].scale)}}),$("#Dorian").on("click",function(){modeName="Dorian",u();var t=d[keyNum];if(relativeFlag===!0)order=1,m();else{var i=t.root,o=t.root+" "+t.second+" "+lowerNote(t.third)+" "+t.fourth+" "+t.fifth+" "+t.sixth+" "+lowerNote(t.seventh)+" "+t.root;$("#Mode").html(i+" "+modeName),$("#ModeNotes").html(o)}}),$("#Phrygian").on("click",function(){modeName="Phrygian";var t=d[keyNum];if(u(),relativeFlag===!0)order=2,m();else{var i=t.root,o=t.root+" "+lowerNote(t.second)+" "+lowerNote(t.third)+" "+t.fourth+" "+t.fifth+" "+lowerNote(t.sixth)+" "+lowerNote(t.seventh)+" "+t.root;$("#Mode").html(i+" "+modeName),$("#ModeNotes").html(o)}}),$("#Lydian").on("click",function(){modeName="Lydian";var t=d[keyNum];if(u(),relativeFlag===!0)order=3,m();else{var i=t.root,o=t.root+" "+t.second+" "+t.third+" "+raiseNote(t.fourth)+" "+t.fifth+" "+t.sixth+" "+t.seventh+" "+t.root;$("#Mode").html(i+" "+modeName),$("#ModeNotes").html(o)}}),$("#Mixolydian").on("click",function(){modeName="Mixolydian";var t=d[keyNum];if(u(),relativeFlag===!0)order=4,m();else{var i=t.root,o=t.root+" "+t.second+" "+t.third+" "+t.fourth+" "+t.fifth+" "+t.sixth+" "+lowerNote(t.seventh)+" "+t.root;$("#Mode").html(i+" "+modeName),$("#ModeNotes").html(o)}}),$("#Aeolian").on("click",function(){modeName="Aeolian";var t=d[keyNum];if(u(),relativeFlag===!0)order=5,m();else{var i=t.root,o=t.root+" "+t.second+" "+lowerNote(t.third)+" "+t.fourth+" "+t.fifth+" "+lowerNote(t.sixth)+" "+lowerNote(t.seventh)+" "+t.root;$("#Mode").html(i+" "+modeName),$("#ModeNotes").html(o)}}),$("#Locrian").on("click",function(){modeName="Locrian";var t=d[keyNum];if(u(),relativeFlag===!0)order=6,m();else{var i=t.root,o=t.root+" "+lowerNote(t.second)+" "+lowerNote(t.third)+" "+t.fourth+" "+lowerNote(t.fifth)+" "+lowerNote(t.sixth)+" "+lowerNote(t.seventh)+" "+t.root;$("#Mode").html(i+" "+modeName),$("#ModeNotes").html(o)}})});
